# UEPluginManager 设计文档

## 项目概述

UE 插件管理工具，用于统一管理 UE 项目及其关联引擎中的所有插件。

## 功能需求

### 项目加载
- [x] 读取 .uproject 文件
- [x] 解析引擎版本关联
- [x] 支持安装版引擎（通过注册表查找）
- [x] 支持源码版引擎（通过 GUID 查找）
- [x] 自动加载当前工作目录项目
- [x] 启动时检查项目有效性

### 插件扫描
- [x] 扫描项目 Plugins 目录
- [x] 扫描引擎 Plugins 目录
- [x] 解析 .uplugin 文件信息
- [x] 区分插件来源（项目/引擎/商城）
- [x] 自动识别 Marketplace 目录为商城来源
- [x] 支持 UTF-8 BOM 编码文件
- [x] 支持尾随逗号的 JSON 格式
- [x] 按来源分开存储（避免同名插件冲突）

### 插件管理
- [x] 查看插件列表（名称/作者/分类/状态）
- [x] 搜索插件（可选字段：名称/作者/分类/描述/依赖/被依赖）
- [x] 查看插件详情（名称/路径/文档链接/作者/分类/描述）
- [x] 查看依赖关系
- [x] 查看被依赖关系
- [x] 启用/禁用插件（修改 .uproject）
- [x] 恢复插件默认状态（从 .uproject 移除配置）
- [x] 打开插件目录
- [x] 打开项目目录
- [x] 打开引擎目录
- [x] 重新加载插件

### 界面
- [x] GUI 图形界面（PySide6）
- [x] 左右分栏布局（左：信息区+插件列表，右：按钮区+插件详情）
- [x] 信息区：项目名称/目录/打开目录，引擎名称/目录/打开目录
- [x] 按钮区：重新加载按钮（右上角）
- [x] 插件列表：搜索字段下拉框 + 搜索框 + 标签页（项目/商城/引擎）+ 列表
- [x] 列表列：名称（自适应）/作者（固定）/分类（自适应）/状态（固定）
- [x] 搜索框带清除按钮
- [x] 搜索时各标签页显示匹配数量
- [x] 点击列标题排序（升序/降序切换）
- [x] 详情面板（未选中或无插件时置灰）
- [x] 状态栏：左侧显示插件统计，右侧显示启用/禁用数

### 依赖连锁
- [x] 启用插件时检查未启用的依赖，弹窗确认后一并启用
- [x] 禁用插件时检查被依赖的插件，弹窗确认后一并禁用
- [x] 用户取消时恢复复选框状态

## 待完善

- [ ] 批量启用/禁用
- [ ] 导出插件列表
